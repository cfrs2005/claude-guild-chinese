---
title: 第六章 命令参考
description: 快速查询、故障排除和配置指南
nav_order: 7
---

# 第六章 命令参考

> **快速查询、故障排除和配置指南**  
> 日常开发中的命令速查、常见问题解决和配置参考

## 📋 本章目录

- [核心命令速查](#核心命令速查)
- [斜杠命令完整列表](#斜杠命令完整列表)
- [常见问题排除](#常见问题排除)
- [配置参考](#配置参考)
- [最佳实践清单](#最佳实践清单)

---

## ⚡ 核心命令速查

### 基础操作命令

| 命令 | 功能 | 示例 |
|------|------|------|
| `/help` | 获取帮助信息 | `/help` |
| `/clear` | 清除对话历史 | `/clear` |
| `/model` | 切换AI模型 | `/model sonnet` |
| `/review` | 请求代码审查 | `/review` |
| `/compact` | 压缩对话内容 | `/compact` |

### 高级管理命令

| 命令 | 功能 | 示例 |
|------|------|------|
| `/add-dir` | 添加工作目录 | `/add-dir ./src` |
| `/bashes` | 列出后台进程 | `/bashes` |
| `/statusline` | 自定义状态栏 | `/statusline "项目: $(pwd)"` |
| `/agents` | 管理子代理 | `/agents` |

---

## 📜 斜杠命令完整列表

### 会话管理
```bash
/clear              # 清除对话历史
/compact            # 压缩对话，保留重要信息
/compact "主题"     # 按主题压缩对话
/microcompact       # 智能上下文清理（实验性）
```

### 代码和项目
```bash
/review             # 请求代码审查
/add-dir <路径>     # 添加工作目录到会话
/model <模型名>     # 切换AI模型
/help               # 获取命令帮助
```

### 后台任务（实验性）
```bash
/bashes             # 列出所有后台进程
/bash-output <id>   # 获取后台进程输出
/kill-bash <id>     # 终止后台进程
```

### 界面定制
```bash
/statusline <表达式>  # 自定义状态栏显示
/agents             # 管理自定义子代理
```

---

## 🔧 常见问题排除

### 问题1：上下文溢出
**症状**：对话内容过多，响应变慢  
**解决**：
```bash
/compact "当前任务"    # 保留当前任务相关内容
/microcompact         # 智能清理冗余信息
```

### 问题2：文件权限错误
**症状**：无法读取或编辑文件  
**解决**：
```bash
# 检查文件权限
ls -la filename

# 修改权限
chmod 644 filename
```

### 问题3：构建失败
**症状**：构建过程报错  
**排查步骤**：
```bash
# 1. 检查依赖
npm install

# 2. 清理缓存
npm run clean

# 3. 重新构建
npm run build
```

### 问题4：网络连接问题
**症状**：API调用失败或超时  
**解决**：
```bash
# 检查网络连接
ping api.example.com

# 使用代理节点
export HTTPS_PROXY=proxy.example.com:8080
```

---

## ⚙️ 配置参考

### CLAUDE.md 配置模板

```markdown
# 项目：[项目名称]

## 技术栈
- **前端**：[技术栈]
- **后端**：[技术栈]  
- **数据库**：[数据库]
- **部署**：[部署方式]

## 开发规范
### 代码风格
- [编码规范]
- [格式化工具]
- [命名约定]

### 项目结构
[目录结构说明]

## 关键约束
- [安全要求]
- [性能要求]
- [兼容性要求]

## 常用命令
```bash
npm run dev         # 开发
npm run test        # 测试
npm run build       # 构建
```

### 钩子配置示例

```markdown
---
name: "代码质量检查"
trigger: "on_file_write"
files: ["*.js", "*.ts"]
---

# 代码质量检查钩子

## 检查项目
- ESLint语法检查
- TypeScript类型检查
- 安全漏洞扫描

## 执行命令
```bash
npx eslint $FILE_PATH --fix
npx tsc --noEmit $FILE_PATH
```

### MCP集成配置

```json
{
  "name": "项目集成",
  "server": "integration-mcp",
  "config": {
    "authentication": {
      "type": "token",
      "token": "${API_TOKEN}"
    },
    "permissions": {
      "read": true,
      "write": false
    }
  }
}
```

---

## ✅ 最佳实践清单

### 项目初始化清单
- [ ] 创建 CLAUDE.md 配置文件
- [ ] 设置项目特定的钩子
- [ ] 配置代码质量检查
- [ ] 建立测试框架
- [ ] 设置CI/CD流程

### 日常开发清单  
- [ ] 明确描述开发需求
- [ ] 使用渐进式开发方法
- [ ] 定期运行代码审查
- [ ] 保持测试覆盖率
- [ ] 监控系统性能

### 协同优化清单
- [ ] 合理使用REPL验证
- [ ] 配置后台任务处理
- [ ] 设置智能任务分解
- [ ] 建立错误恢复机制
- [ ] 定期审查和优化工作流

---

## 🎯 快速故障排除

### 常见错误代码

| 错误类型 | 可能原因 | 快速解决 |
|----------|----------|----------|
| `EADDRINUSE` | 端口被占用 | `lsof -ti:3000 \| xargs kill -9` |
| `MODULE_NOT_FOUND` | 依赖缺失 | `npm install` |
| `PERMISSION_DENIED` | 权限不足 | `chmod +x filename` |
| `TIMEOUT` | 网络超时 | 检查网络连接或增加超时时间 |

### 性能问题诊断

```bash
# 内存使用检查
top -p $(pgrep node)

# 磁盘空间检查  
df -h

# 网络连接检查
netstat -an | grep LISTEN
```

---

## 📖 本章小结

本章提供了 Claude Code 使用的完整参考指南：

✅ **命令速查**：所有斜杠命令的快速参考和使用示例  
✅ **问题排除**：常见问题的诊断步骤和解决方案  
✅ **配置指南**：项目配置、钩子设置和集成配置的完整模板  
✅ **最佳实践**：日常开发的检查清单和优化建议  

**学习完成**：恭喜你已经完成了 Claude Code 高级中文教程的全部学习！现在你具备了专业级的 AI 辅助开发能力。